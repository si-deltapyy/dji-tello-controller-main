<ion-content class="ion-padding">
  <div class="controller-container">
    <div class="top-right">
      <ion-button color="warning" shape="round" (click)="sendCommand('command')">
        <ion-icon name="wifi" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <div class="top-left">
      <ion-button color="success" shape="round" (click)="takeOff()">
        <ion-icon name="airplane" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button color="danger" shape="round" (click)="land()">
        <ion-icon name="power" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <!-- <video id="video" width="20%" style="position: absolute; top: 10%;" autoplay></video>

    <canvas id="drone-video" style="width: 100%; height: 100%;"></canvas>
    <ion-button (click)="runPythonScript()">Run Python Script</ion-button> -->

    <div class="top-info">
      <div class="battery-status">
        <ion-label>Status Baterai: {{ battery !== null ? battery + '%' : 'Memuat...' }}</ion-label>
      </div>
      <div class="connection-status" [ngClass]="{'connected': connection === 'Connected', 'disconnected': connection === 'Disconnected'}">
        <ion-label>Status Koneksi: {{ connection }}</ion-label>
      </div>
    </div>


    <div class="joystick-group">
      <div class="joystick-container">
        <div class="joystick-label top-label">Maju</div>
        <div id="movement-joystick" class="joystick"></div>
        <div class="joystick-label bottom-label">Mundur</div>
        <div class="joystick-label left-label">Kiri</div>
        <div class="joystick-label right-label">Kanan</div>
      </div>

      <div class="joystick-container">
        <div class="joystick-label top-label">Naik</div>
        <div id="directional-joystick" class="joystick"></div>
        <div class="joystick-label bottom-label">Turun</div>
      </div>
    </div>



    <script src="../../assets/js/Broadway/Player/Decoder.js"></script>
    <script src="../../assets/js/Broadway/Player/Player.js"></script>


    <!-- <ion-button expand="full" (click)="startVideoStream()">Start Video</ion-button>
    <ion-button expand="full" (click)="stopVideoStream()">Stop Video</ion-button> -->


    <!-- Tombol Kamera -->
    <!-- <div class="camera-toggle">
      <ion-button fill="clear" size="small" (click)="toggleCamera()">
        <ion-icon [name]="cameraOn ? 'eye-off' : 'eye'" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <div class="video-container" [class.video-off]="!cameraOn">
      <canvas id="drone-video" *ngIf="cameraOn"></canvas>
    </div> -->
  </div>
</ion-content>
